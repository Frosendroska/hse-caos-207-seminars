# 13 Семинар 01.03.2022 переменные окружения, exec

## Файлики с кодом:

* [Вывод переменных окружения](envp.c)
* [Использование getenv()](getenv.c)
* [плохие вещи с getenv()](getenv_test.c)
* [меняем переменную окружения с putenv](putenv.c)
* [меняем переменную окружения с setenv](setenv.c)
* [exec.c](exec.c)
* [exec_fork.c](exec_fork.c)
* [exec_fork_cmd.c](exec_fork_cmd.c)
* [exec_fork_cmd.c](exec_fork_cmd.c)



## Переменные окружения
Переменные окружения существуют в рамках запущенной сессии командного интерпретатора, подгружаются туда во время его инициализации (но это не единственный путь их появления). Посмотреть установленные переменные можно командой env (environment). 

При создании нового процесса (командой fork, например) копируется и переменные окружения.

## getenv()
Функция getenv() возвращает указатель на информацию об окружении, ассоциированную со строкой name в таблице информации окружения. 

Если функция вызвана с аргументом, который не соответствует никаким переменным окружения, то возвращается нулевой указатель.


# Меняем переменные окружения
## putenv()
```
putenv("HELLO=not world");
```
Меняет значение переменной окружения HELLO на not world.

При успешном завершении putenv возвращает 0, при ошибке -1.

## setenv()
```
status = setenv("HELLO2", "not world", 0);
```
первый параметр -  перемменная окружения

второй параметр - значение переменной окружения

третий параметр - флаг, отвечающий за перезапись значения. 

0 -> если перемменная окружения уже существует, то мы не меняем ее значения.

1 -> если перемменная окружения уже существует, то мы меняет ее значение.

Возращает значение 0 - если все ок, 1 - если не ок.

