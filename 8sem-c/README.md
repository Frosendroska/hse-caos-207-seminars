# 8 Семинар 18.01.2022 C 4

## Файлики с кодом (пояснения внутри)

## Представление вещественных чисел

## Фиксированная точка:

Фиксируем точку в каком-то месте и делаем следующее:

2 ^ i + 2 ^ (i - 1) + ... + 2 ^ 0 + 2 ^ -1 + 2 ^ -2 ....

Пусть у нас числа 8 битные и точку мы ставим после первых 4х бит:

    2.5   -> 0010.1000
    3.125 -> 0011.0010

Но в таком случае есть проблемы с точностью:

    0.2   -> 0000.0011 [00110011] -> 0.1875

Ошибка составила 0.0125

## Плавающая точка:


## Перевод чисел в float:

11.8125 -> ?

1. Определим бит знака.

В нашем случае 0.

2. Переведем его в двоичное дробное число как обычно: целую часть делим на 2, дробную умножаем на 2.

целая часть:

    11 / 2 = 5 [1]
    5  / 2 = 2 [1]
    2  / 2 = 1 [0]
    1  / 2 = 0 [1]


дробная часть:

    8125 * 2 = 6250 [1]
    6250 * 2 = 2500 [1]
    2500 * 2 = 5000 [0]
    5000 * 2 = 0    [1]

Результат:

    1011.1011

3. Нормализуем (считаем, на сколько нужно передвинуть точку, чтобы единственная цифра перед точкой была 1)

В нашем случае нужно сдвинуть на 3 влево. Это будет предварительное значение экспоненты. Если бы нужно было двигать вправо,
то предварительная экспонента была бы отрицательной.

Результат:

    1.0111011 * 2 ^ 3

4. Считаем смещенную экспоненту.

Нам нужно уметь хранить отрицательные экспоненты. Поэтому сначала идут 127 отрицательных экспонент, затем положительные.
Поэтому к экспоненте нужно прибавить сдвиг (bias) = 127.

Результат:

    1.0111011 * 2 ^ 130

5. Убираем первую 1.

Так как мы договорились, что у нас первая всегда 1, то нет смысла ее хранить, можно ее просто подразумевать там.


Результат:
    0111011 * 2 ^ 130

6. Итог:

    sign = 0
    mantis = 0.0111011
    exp = 130 = 10000010
